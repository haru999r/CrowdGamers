{% extends 'base.html' %}
{% load static %}

{% block stylesheet %}'{% static "teams/scss/notification/dist/notification.css" %}'{% endblock %}



{% block content %}

  <div class="container">

    <h3>通知</h3>
    {% if notifications %}
      {% for notification in notifications %}
      <hr>
      <div>
        {% if notification.has_read is False %}
          <div class="circle"></div>
        {% endif %}
        <p><a href="{% url 'teams:account_detail' notification.from_user %}">{{ notification.from_user }}</a> からメッセージが届きました。</p>
        {% if notification.mode == 'application' %}
          <p><a href="{% url 'teams:application_detail' user.username notification.id %}">{{ notification.message | truncatechars:20 }}</a></p>
        {% elif notification.mode == 'invitation' %}
        <p><a href="{% url 'teams:invitation_detail' user.username notification.id %}">{{ notification.message | truncatechars:20 }}</a></p>
        {% elif notification.mode == 'member_approval' %}
        <p><a href="{% url 'teams:member_approval_detail' user.username notification.id %}">{{ notification.message | truncatechars:20 }}</a></p>
        {% elif notification.mode == 'official' %}
          <p><a href="{% url 'teams:official_detail' user.username notification.id %}">{{ notification.message | truncatechars:20 }}</a></p>
          {% endif %}
      </div>
      {% endfor %}
    {% else %}
      <p>通知は届いていません。</p>
    {% endif %}
  </div>

  <div class="push"></div>

  {% endblock %}